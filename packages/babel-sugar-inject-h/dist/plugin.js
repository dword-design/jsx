"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var syntaxJsx=_interopDefault(require("@babel/plugin-syntax-jsx"));const firstParamIsH=(e,n)=>{const r=n.get("params");return r.length&&e.isIdentifier(r[0])&&"h"===r[0].node.name},hasJSX=(e,n)=>{const r={hasJSX:!1};n.traverse({JSXElement(){this.hasJSX=!0}},r);return r.hasJSX},isInsideJSXExpression=(e,n)=>{if(!n.parentPath)return!1;if(e.isJSXExpressionContainer(n.parentPath))return!0;return isInsideJSXExpression(e,n.parentPath)};var index=e=>{const n=e.types;return{inherits:syntaxJsx,visitor:{Program(e){e.traverse({ArrowFunctionExpression(e){if(("ObjectProperty"===e.parent.type||"ClassProperty"===e.parent.type)&&!firstParamIsH(n,e)&&hasJSX(n,e)&&!isInsideJSXExpression(n,e)&&"render"===e.parent.key.name){const r=e.node.body,t=[n.identifier("h"),...e.node.params];e.replaceWith(n.arrowFunctionExpression(t,r))}},"ObjectMethod|ClassMethod"(e){if(!firstParamIsH(n,e)&&hasJSX(n,e)&&!isInsideJSXExpression(n,e)){const r="render"===e.node.key.name;e.get("body").unshiftContainer("body",n.variableDeclaration("const",[n.variableDeclarator(n.identifier("h"),r?n.memberExpression(n.identifier("arguments"),n.numericLiteral(0),!0):n.memberExpression(n.thisExpression(),n.identifier("$createElement")))]))}}})}}}};module.exports=index;
